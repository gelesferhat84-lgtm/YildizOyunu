<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>â­ YÄ±ldÄ±zÄ±m Ä°Ã§in â­</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:linear-gradient(180deg,#0b0f2e,#1b1f4a);
  color:white;
  font-family:Arial,Helvetica,sans-serif;
  overflow:hidden;
  text-align:center;
}
#score{
  font-size:32px;
  margin:10px;
}
#game{
  position:relative;
  width:100vw;
  height:80vh;
  overflow:hidden;
}
.falling{
  position:absolute;
  font-size:42px;
  user-select:none;
}
.star{color:#ffd700}
.bomb{color:red}
.heart{color:pink}
.broken{color:#ff4d6d}

#basket{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  font-size:60px;
}

#message{
  display:none;
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.85);
  align-items:center;
  justify-content:center;
  flex-direction:column;
  z-index:10;
}
#message h1{
  font-size:36px;
  margin-bottom:20px;
}
#message button{
  padding:12px 24px;
  font-size:18px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="score">â¤ï¸ Skor: <span id="points">0</span></div>

<div id="game">
  <div id="basket">ğŸ—‘ï¸</div>

  <div id="message">
    <h1>â­ YÄ±ldÄ±zÄ±m, seni Ã§ok seviyorum â¤ï¸</h1>
    <button onclick="restart()">Tekrar Oyna</button>
  </div>
</div>

<script>
const game = document.getElementById("game");
const basket = document.getElementById("basket");
const pointsEl = document.getElementById("points");
const message = document.getElementById("message");

let basketX = window.innerWidth / 2;
let score = 0;
let gameOver = false;

document.addEventListener("mousemove", e=>{
  basketX = e.clientX;
  basket.style.left = basketX + "px";
});

document.addEventListener("touchmove", e=>{
  basketX = e.touches[0].clientX;
  basket.style.left = basketX + "px";
});

function createItem(){
  if(gameOver) return;

  const item = document.createElement("div");
  item.classList.add("falling");

  const rand = Math.random();
  if(rand < 0.6){
    item.textContent = "â­";
    item.classList.add("star");
    item.type = "star";
  }else if(rand < 0.75){
    item.textContent = "â¤ï¸";
    item.classList.add("heart");
    item.type = "heart";
  }else if(rand < 0.9){
    item.textContent = "ğŸ’”";
    item.classList.add("broken");
    item.type = "broken";
  }else{
    item.textContent = "ğŸ’£";
    item.classList.add("bomb");
    item.type = "bomb";
  }

  item.style.left = Math.random() * (window.innerWidth - 40) + "px";
  item.style.top = "-50px";
  game.appendChild(item);

  let y = -50;
  const fall = setInterval(()=>{
    if(gameOver){
      clearInterval(fall);
      item.remove();
      return;
    }

    y += 4;
    item.style.top = y + "px";

    const itemRect = item.getBoundingClientRect();
    const basketRect = basket.getBoundingClientRect();

    if(
      itemRect.bottom >= basketRect.top &&
      itemRect.left < basketRect.right &&
      itemRect.right > basketRect.left
    ){
      handleCatch(item.type);
      clearInterval(fall);
      item.remove();
    }

    if(y > window.innerHeight){
      clearInterval(fall);
      item.remove();
    }
  },20);
}

function handleCatch(type){
  if(type === "star") score += 10;
  if(type === "heart") score += 5;
  if(type === "broken") score -= 5;
  if(type === "bomb"){
    endGame();
    return;
  }

  pointsEl.textContent = score;

  if(score >= 100){
    endGame(true);
  }
}

function endGame(win=false){
  gameOver = true;
  message.style.display = "flex";
  if(!win){
    message.querySelector("h1").textContent =
      "ğŸ’” Oyun Bitti ama sevgim bitmez â¤ï¸";
  }
}

function restart(){
  location.reload();
}

setInterval(createItem,800);
</script>

</body>
</html>
