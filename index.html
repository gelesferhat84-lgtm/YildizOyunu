<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Nebula Bit Game</title>
<style>
html,body{
  margin:0; padding:0;
  width:100%; height:100%;
  overflow:hidden;
  background: radial-gradient(circle at top, #4b0066, #050014 70%);
  font-family: Arial, sans-serif;
  user-select:none;
}
#game{
  position:relative;
  width:100%;
  height:100%;
}
#hud{
  position:absolute;
  top:10px; left:10px;
  background:rgba(0,0,0,.4);
  color:#fff;
  padding:8px 12px;
  border-radius:10px;
  font-size:16px;
}
#hearts{ margin-top:4px; }

#panel{
  position:absolute;
  bottom:80px;
  left:50%;
  transform:translateX(-50%);
  width:120px;
  height:25px;
  background:rgba(255,120,180,.35);
  border:1px solid rgba(255,180,220,.8);
  border-radius:20px;
  backdrop-filter: blur(6px);
}

.letter{
  position:absolute;
  font-size:32px;
  font-weight:bold;
  color:#ffd800;
  text-shadow:0 0 15px #ffeb3b;
}
.star{
  position:absolute;
  font-size:28px;
}
.meteor{
  position:absolute;
  width:40px;
  height:40px;
  background:radial-gradient(circle,#777,#333);
  border-radius:50%;
}
.meteor::before{
  content:'';
  position:absolute;
  top:-25px; left:50%;
  transform:translateX(-50%);
  width:8px; height:30px;
  background:linear-gradient(#ff9800, transparent);
}

.alien{
  position:absolute;
  width:50px; height:30px;
  background:rgba(180,255,255,.35);
  border:1px solid rgba(200,255,255,.8);
  border-radius:50% 50% 40% 40%;
}

.bullet{
  position:absolute;
  width:14px; height:14px;
  background:#ff5555;
  border-radius:50%;
}

.boxes{
  position:absolute;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
}
.box{
  width:45px; height:45px;
  background:rgba(255,255,255,.15);
  border:1px solid rgba(255,255,255,.6);
  border-radius:8px;
  color:#ffd800;
  font-size:22px;
  display:flex;
  align-items:center;
  justify-content:center;
}

#gameover{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.7);
  color:#fff;
  flex-direction:column;
}
button{
  padding:10px 20px;
  margin-top:10px;
  font-size:18px;
}
</style>
</head>
<body>
<div id="game">
  <div id="hud">
    Skor: <span id="score">0</span>
    <div id="hearts">❤️❤️❤️</div>
  </div>

  <div id="panel"></div>

  <div class="boxes" id="boxes"></div>

  <div id="gameover">
    <h1>Oyun Bitti</h1>
    <button onclick="location.reload()">Tekrar Oyna</button>
  </div>
</div>

<script>
const game=document.getElementById("game");
const panel=document.getElementById("panel");
const boxesEl=document.getElementById("boxes");
const scoreEl=document.getElementById("score");
const heartsEl=document.getElementById("hearts");
const gameover=document.getElementById("gameover");

let score=0, lives=3;
let letters=["Y","I","L","D","I","Z"];
let collected={};

letters.forEach(l=>{
  const b=document.createElement("div");
  b.className="box";
  b.dataset.letter=l;
  boxesEl.appendChild(b);
});

let dragging=false;
panel.onmousedown=()=>dragging=true;
window.onmouseup=()=>dragging=false;
window.onmousemove=e=>{
  if(dragging){
    panel.style.left=e.clientX+"px";
  }
};

function dropLetter(){
  if(letters.length===0) return;
  const l=letters[Math.floor(Math.random()*letters.length)];
  const el=document.createElement("div");
  el.className="letter";
  el.textContent=l;
  el.style.left=Math.random()*90+"%";
  el.style.top="-40px";
  game.appendChild(el);
  let y=0;
  const iv=setInterval(()=>{
    y+=2;
    el.style.top=y+"px";
    const p=panel.getBoundingClientRect();
    const r=el.getBoundingClientRect();
    if(r.bottom>p.top && r.left<p.right && r.right>p.left){
      document.querySelectorAll(".box").forEach(b=>{
        if(b.dataset.letter===l && b.textContent===""){
          b.textContent=l;
          letters=letters.filter(x=>x!==l);
        }
      });
      el.remove(); clearInterval(iv);
    }
    if(y>window.innerHeight){ el.remove(); clearInterval(iv);}
  },16);
}

function dropMeteor(){
  const m=document.createElement("div");
  m.className="meteor";
  m.style.left=Math.random()*90+"%";
  m.style.top="-60px";
  game.appendChild(m);
  let y=0;
  const iv=setInterval(()=>{
    y+=4;
    m.style.top=y+"px";
    const p=panel.getBoundingClientRect();
    const r=m.getBoundingClientRect();
    if(r.bottom>p.top && r.left<p.right && r.right>p.left){
      lives--;
      heartsEl.textContent="❤️".repeat(lives);
      m.remove(); clearInterval(iv);
      if(lives<=0) gameover.style.display="flex";
    }
    if(y>window.innerHeight){ m.remove(); clearInterval(iv);}
  },16);
}

setInterval(dropLetter,2500);
setInterval(dropMeteor,1800);
</script>
</body>
</html>
