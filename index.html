<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>‚≠ê YILDIZ ‚Äì Final Master Build</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ======================================================
   GLOBAL
====================================================== */
* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at top, #0b102a, #000);
  overflow: hidden;
  font-family: system-ui, -apple-system, Segoe UI, sans-serif;
  user-select: none;
}

/* ======================================================
   GAME ROOT
====================================================== */
#game {
  position: relative;
  width: 100%;
  height: 100%;
}

/* ======================================================
   SCORE
====================================================== */
#scoreBar {
  position: absolute;
  top: 10px;
  width: 100%;
  text-align: center;
  color: #fff;
  font-size: 26px;
  letter-spacing: 2px;
  z-index: 10;
}

/* ======================================================
   STARS (HARFLER)
====================================================== */
.star {
  position: absolute;
  font-size: 42px;
  pointer-events: none;
  text-shadow:
    0 0 10px gold,
    0 0 20px gold,
    0 0 40px orange;
}

/* ======================================================
   BASKET (SEPET)
====================================================== */
#basket {
  position: absolute;
  bottom: 80px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 40px;
  border-radius: 20px;
  background: linear-gradient(180deg, #ff3b3b, #a40000);
  box-shadow: 0 0 20px red;
}

/* ======================================================
   BOXES
====================================================== */
#boxes {
  position: absolute;
  bottom: 20px;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 10px;
}

.box {
  width: 50px;
  height: 50px;
  border: 2px solid #fff;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  background: rgba(255,255,255,0.05);
}

.box.filled {
  background: gold;
  color: #000;
  animation: pop 0.4s ease;
}

@keyframes pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.35); }
  100% { transform: scale(1); }
}

/* ======================================================
   FINAL
====================================================== */
#finalScreen {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.92);
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  color: #fff;
  z-index: 50;
  text-align: center;
}

#finalScreen h1 {
  font-size: 42px;
  margin-bottom: 20px;
}

#finalScreen button {
  padding: 14px 30px;
  font-size: 18px;
  border: none;
  cursor: pointer;
  background: gold;
  color: #000;
}
</style>
</head>

<body>
<div id="game">

  <div id="scoreBar">‚≠ê YILDIZ: <span id="score">0</span></div>

  <div id="basket"></div>

  <div id="boxes"></div>

  <div id="finalScreen">
    <h1>üíõ SEN BENƒ∞M YILDIZIMSIN üíõ</h1>
    <p>Bu oyun bitti ama hisler bitmez.</p>
    <button onclick="restartGame()">Tekrar Oyna</button>
  </div>

</div>

<script>
/* ======================================================
   CORE STATE
====================================================== */
const LETTERS = ["Y","I","L","D","I","Z"];
let activeLetters = [...LETTERS];
let boxes = {};
let stars = [];
let score = 0;
let speed = 1.4;
let gameOver = false;

/* ======================================================
   ELEMENTS
====================================================== */
const game = document.getElementById("game");
const basket = document.getElementById("basket");
const scoreEl = document.getElementById("score");
const finalScreen = document.getElementById("finalScreen");

/* ======================================================
   BOX INIT
====================================================== */
const boxesDiv = document.getElementById("boxes");
LETTERS.forEach(l => {
  const b = document.createElement("div");
  b.className = "box";
  b.textContent = l;
  boxesDiv.appendChild(b);
  boxes[l] = { el: b, filled: false };
});

/* ======================================================
   INPUT (SEPET)
====================================================== */
let basketX = window.innerWidth / 2;

function moveBasket(x) {
  basketX = Math.max(60, Math.min(window.innerWidth - 60, x));
  basket.style.left = basketX + "px";
}

window.addEventListener("mousemove", e => moveBasket(e.clientX));
window.addEventListener("touchmove", e => {
  moveBasket(e.touches[0].clientX);
});

/* ======================================================
   STAR CREATE
====================================================== */
function spawnStar() {
  if (gameOver) return;
  if (activeLetters.length === 0) return;

  const letter = activeLetters[Math.floor(Math.random() * activeLetters.length)];
  const el = document.createElement("div");

  el.className = "star";
  el.textContent = "‚≠ê" + letter;
  el.style.left = Math.random() * (window.innerWidth - 40) + "px";
  el.style.top = "-60px";

  game.appendChild(el);

  stars.push({
    el,
    letter,
    x: el.offsetLeft,
    y: -60
  });
}

/* ======================================================
   COLLISION
====================================================== */
function isColliding(star) {
  const starRect = star.el.getBoundingClientRect();
  const basketRect = basket.getBoundingClientRect();

  return !(
    starRect.bottom < basketRect.top ||
    starRect.top > basketRect.bottom ||
    starRect.right < basketRect.left ||
    starRect.left > basketRect.right
  );
}

/* ======================================================
   GAME LOOP
====================================================== */
function update() {
  if (gameOver) return;

  stars.forEach((s, i) => {
    s.y += speed;
    s.el.style.top = s.y + "px";

    if (isColliding(s)) {
      catchStar(s, i);
    } else if (s.y > window.innerHeight) {
      removeStar(i);
    }
  });

  requestAnimationFrame(update);
}

/* ======================================================
   CATCH LOGIC
====================================================== */
function catchStar(star, index) {
  const box = boxes[star.letter];

  if (!box.filled) {
    box.filled = true;
    box.el.classList.add("filled");

    score += 100;
    scoreEl.textContent = score;

    activeLetters = activeLetters.filter(l => l !== star.letter);
    speed += 0.3;

    miniCelebrate();

    if (activeLetters.length === 0) {
      endGame();
    }
  }

  removeStar(index);
}

function removeStar(index) {
  stars[index].el.remove();
  stars.splice(index, 1);
}

/* ======================================================
   EFFECT
====================================================== */
function miniCelebrate() {
  for (let i = 0; i < 12; i++) {
    const h = document.createElement("div");
    h.textContent = "üíõ";
    h.style.position = "absolute";
    h.style.left = Math.random() * window.innerWidth + "px";
    h.style.top = Math.random() * window.innerHeight + "px";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 700);
  }
}

/* ======================================================
   END GAME
====================================================== */
function endGame() {
  gameOver = true;
  finalScreen.style.display = "flex";
}

/* ======================================================
   RESTART
====================================================== */
function restartGame() {
  location.reload();
}

/* ======================================================
   TIMERS
====================================================== */
setInterval(spawnStar, 850);
update();
</script>
</body>
</html>
