<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>‚≠ê YILDIZ ‚Äì Ultimate Master Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- =====================================================
     STYLE SECTION
===================================================== -->
<style>

/* =====================================================
   RESET & BASE
===================================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  background: radial-gradient(circle at top, #090e2a 0%, #000 70%);
  overflow: hidden;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  user-select: none;
}

/* =====================================================
   ROOT GAME CONTAINER
===================================================== */
#game-root {
  position: relative;
  width: 100%;
  height: 100%;
}

/* =====================================================
   TOP HUD
===================================================== */
#hud {
  position: absolute;
  top: 10px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 16px;
  color: #fff;
  z-index: 20;
}

.hud-block {
  font-size: 18px;
  letter-spacing: 1px;
}

/* =====================================================
   BACKGROUND STARS (PARALLAX)
===================================================== */
.bg-star {
  position: absolute;
  color: rgba(255,255,255,0.2);
  font-size: 10px;
  pointer-events: none;
}

/* =====================================================
   FALLING STAR LETTERS
===================================================== */
.star {
  position: absolute;
  font-size: 42px;
  pointer-events: none;
  text-shadow:
    0 0 10px gold,
    0 0 20px gold,
    0 0 35px orange;
}

/* =====================================================
   BASKET
===================================================== */
#basket {
  position: absolute;
  bottom: 90px;
  width: 140px;
  height: 42px;
  border-radius: 24px;
  background: linear-gradient(180deg, #ff4b4b, #900);
  box-shadow: 0 0 25px rgba(255,0,0,0.6);
}

/* =====================================================
   LETTER BOXES
===================================================== */
#letter-boxes {
  position: absolute;
  bottom: 20px;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 12px;
}

.letter-box {
  width: 54px;
  height: 54px;
  border: 2px solid #fff;
  background: rgba(255,255,255,0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  color: #fff;
}

.letter-box.filled {
  background: gold;
  color: #000;
  animation: fillPop 0.4s ease;
}

@keyframes fillPop {
  0% { transform: scale(1); }
  50% { transform: scale(1.4); }
  100% { transform: scale(1); }
}

/* =====================================================
   LEVEL BANNER
===================================================== */
#level-banner {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 48px;
  color: gold;
  display: none;
  z-index: 40;
}

/* =====================================================
   FINAL SCREEN
===================================================== */
#final-screen {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.94);
  display: none;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #fff;
  z-index: 100;
  text-align: center;
}

#final-screen h1 {
  font-size: 44px;
  margin-bottom: 20px;
}

#final-screen button {
  padding: 16px 36px;
  font-size: 18px;
  border: none;
  background: gold;
  cursor: pointer;
  color: #000;
}

</style>
</head>

<body>

<div id="game-root">

  <!-- HUD -->
  <div id="hud">
    <div class="hud-block">‚≠ê Skor: <span id="score">0</span></div>
    <div class="hud-block">üéÆ Level: <span id="level">1</span></div>
  </div>

  <!-- Level Banner -->
  <div id="level-banner"></div>

  <!-- Basket -->
  <div id="basket"></div>

  <!-- Letter Boxes -->
  <div id="letter-boxes"></div>

  <!-- Final -->
  <div id="final-screen">
    <h1>üíõ SEN BENƒ∞M YILDIZIMSIN üíõ</h1>
    <p>Bu oyunun sonu yok‚Ä¶</p>
    <button onclick="Game.restart()">Tekrar Oyna</button>
  </div>

</div>

<!-- =====================================================
     SCRIPT SECTION
===================================================== -->
<script>

/* =====================================================
   GAME CONFIG
===================================================== */
const CONFIG = {
  letters: ["Y","I","L","D","I","Z"],
  baseSpeed: 1.4,
  spawnRate: 900,
  speedIncrement: 0.25
};

/* =====================================================
   CORE GAME OBJECT
===================================================== */
const Game = {
  state: {
    score: 0,
    level: 1,
    speed: CONFIG.baseSpeed,
    activeLetters: [],
    stars: [],
    gameOver: false
  },

  elements: {},

  init() {
    this.cacheElements();
    this.createBoxes();
    this.resetLetters();
    this.bindInput();
    Background.init();
    Loop.start();
    Spawner.start();
  },

  cacheElements() {
    this.elements.root = document.getElementById("game-root");
    this.elements.basket = document.getElementById("basket");
    this.elements.score = document.getElementById("score");
    this.elements.level = document.getElementById("level");
    this.elements.banner = document.getElementById("level-banner");
    this.elements.final = document.getElementById("final-screen");
    this.elements.boxes = document.getElementById("letter-boxes");
  },

  createBoxes() {
    CONFIG.letters.forEach(l => {
      const b = document.createElement("div");
      b.className = "letter-box";
      b.textContent = l;
      this.elements.boxes.appendChild(b);
      this.state.activeLetters.push({ letter: l, filled: false, el: b });
    });
  },

  resetLetters() {
    this.state.activeLetters.forEach(l => {
      l.filled = false;
      l.el.classList.remove("filled");
    });
  },

  bindInput() {
    window.addEventListener("mousemove", e => this.moveBasket(e.clientX));
    window.addEventListener("touchmove", e => {
      this.moveBasket(e.touches[0].clientX);
    });
  },

  moveBasket(x) {
    const w = window.innerWidth;
    const clamped = Math.max(70, Math.min(w - 70, x));
    this.elements.basket.style.left = clamped + "px";
  },

  catchStar(star) {
    const box = this.state.activeLetters.find(l => l.letter === star.letter && !l.filled);
    if (!box) return;

    box.filled = true;
    box.el.classList.add("filled");

    this.state.score += 100;
    this.elements.score.textContent = this.state.score;

    this.state.speed += CONFIG.speedIncrement;

    Effects.miniCelebrate();

    if (this.state.activeLetters.every(l => l.filled)) {
      this.nextLevel();
    }
  },

  nextLevel() {
    this.state.level++;
    this.elements.level.textContent = this.state.level;

    this.elements.banner.textContent = "LEVEL " + this.state.level;
    this.elements.banner.style.display = "block";

    setTimeout(() => {
      this.elements.banner.style.display = "none";
      this.resetLetters();
    }, 1500);
  },

  end() {
    this.state.gameOver = true;
    this.elements.final.style.display = "flex";
  },

  restart() {
    location.reload();
  }
};

/* =====================================================
   STAR SPAWNER
===================================================== */
const Spawner = {
  timer: null,

  start() {
    this.timer = setInterval(() => {
      if (Game.state.gameOver) return;
      this.spawn();
    }, CONFIG.spawnRate);
  },

  spawn() {
    const available = Game.state.activeLetters.filter(l => !l.filled);
    if (!available.length) return;

    const letter = available[Math.floor(Math.random() * available.length)].letter;

    const el = document.createElement("div");
    el.className = "star";
    el.textContent = "‚≠ê" + letter;
    el.style.left = Math.random() * (window.innerWidth - 40) + "px";
    el.style.top = "-60px";

    Game.elements.root.appendChild(el);

    Game.state.stars.push({
      el,
      letter,
      y: -60
    });
  }
};

/* =====================================================
   BACKGROUND PARALLAX
===================================================== */
const Background = {
  stars: [],

  init() {
    for (let i = 0; i < 60; i++) {
      const s = document.createElement("div");
      s.className = "bg-star";
      s.textContent = "‚ú¶";
      s.style.left = Math.random() * window.innerWidth + "px";
      s.style.top = Math.random() * window.innerHeight + "px";
      document.body.appendChild(s);
      this.stars.push(s);
    }
  },

  update() {
    this.stars.forEach(s => {
      let y = parseFloat(s.style.top);
      y += 0.15;
      if (y > window.innerHeight) y = 0;
      s.style.top = y + "px";
    });
  }
};

/* =====================================================
   EFFECTS
===================================================== */
const Effects = {
  miniCelebrate() {
    for (let i = 0; i < 10; i++) {
      const h = document.createElement("div");
      h.textContent = "üíõ";
      h.style.position = "absolute";
      h.style.left = Math.random() * window.innerWidth + "px";
      h.style.top = Math.random() * window.innerHeight + "px";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 700);
    }
  }
};

/* =====================================================
   MAIN LOOP
===================================================== */
const Loop = {
  start() {
    requestAnimationFrame(this.update.bind(this));
  },

  update() {
    if (!Game.state.gameOver) {
      Game.state.stars.forEach((s, i) => {
        s.y += Game.state.speed;
        s.el.style.top = s.y + "px";

        if (this.collide(s.el, Game.elements.basket)) {
          Game.catchStar(s);
          s.el.remove();
          Game.state.stars.splice(i, 1);
        } else if (s.y > window.innerHeight) {
          s.el.remove();
          Game.state.stars.splice(i, 1);
        }
      });

      Background.update();
    }

    requestAnimationFrame(this.update.bind(this));
  },

  collide(a, b) {
    const r1 = a.getBoundingClientRect();
    const r2 = b.getBoundingClientRect();

    return !(
      r1.bottom < r2.top ||
      r1.top > r2.bottom ||
      r1.right < r2.left ||
      r1.left > r2.right
    );
  }
};

/* =====================================================
   START GAME
===================================================== */
Game.init();

</script>
</body>
</html>
