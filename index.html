<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalp Oyunu ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    overflow:hidden;
    background:linear-gradient(#ffd1dc,#ff9ab3);
    font-family:Arial,sans-serif;
    color:black;
}

#hud{
    position:fixed;
    top:10px;
    left:10px;
    font-weight:bold;
    font-size:18px;
    z-index:10;
}

#basket{
    position:fixed;
    bottom:90px;
    left:50%;
    transform:translateX(-50%);
    font-size:55px;
}

.item{
    position:absolute;
    font-size:36px;
}

#slots{
    position:fixed;
    bottom:20px;
    width:100%;
    display:flex;
    justify-content:center;
    gap:6px;
}

.slot{
    width:28px;
    height:28px;
    border:2px solid black;
}
</style>
</head>

<body>

<div id="hud">
Skor: <span id="score">0</span><br>
Rekor: <span id="best">0</span>
</div>

<div id="basket">üóëÔ∏è</div>

<div id="slots">
<div class="slot"></div><div class="slot"></div><div class="slot"></div>
<div class="slot"></div><div class="slot"></div><div class="slot"></div>
</div>

<script>
let score=0;
let speed=3;
let gameOver=false;

const bestEl=document.getElementById("best");
bestEl.innerText=localStorage.getItem("bestScore")||0;

const basket=document.getElementById("basket");

document.addEventListener("mousemove",e=>{
    basket.style.left=e.clientX+"px";
});
document.addEventListener("touchmove",e=>{
    basket.style.left=e.touches[0].clientX+"px";
});

function createItem(){
    if(gameOver) return;

    const r=Math.random();
    let type,icon;

    if(r<0.35){ type="heart"; icon=["‚ù§Ô∏è","üíõ","üíô","üíú"][Math.floor(Math.random()*4)]; }
    else if(r<0.5){ type="star"; icon="‚≠ê"; }
    else if(r<0.65){ type="broken"; icon="üíî"; }
    else if(r<0.82){ type="bomb"; icon="üí£"; }
    else { type="rocket"; icon="üöÄ"; }

    const item=document.createElement("div");
    item.className="item";
    item.innerText=icon;
    item.dataset.type=type;
    item.style.left=Math.random()*(window.innerWidth-40)+"px";
    item.style.top="-40px";
    document.body.appendChild(item);

    let fall=setInterval(()=>{
        item.style.top=item.offsetTop+speed+"px";

        const i=item.getBoundingClientRect();
        const b=basket.getBoundingClientRect();

        if(i.bottom>b.top && i.left<b.right && i.right>b.left){
            handleHit(type);
            item.remove();
            clearInterval(fall);
        }

        if(item.offsetTop>window.innerHeight){
            item.remove();
            clearInterval(fall);
        }
    },20);
}

function handleHit(type){
    if(type==="heart") score+=1;
    if(type==="star") score+=2;
    if(type==="broken") score-=2;
    if(type==="bomb"||type==="rocket") endGame();

    document.getElementById("score").innerText=score;
}

function endGame(){
    gameOver=true;
    let best=localStorage.getItem("bestScore")||0;
    if(score>best){
        localStorage.setItem("bestScore",score);
    }
    setTimeout(()=>{
        alert("üíñ Ferhat seni √ßok seviyor ‚ù§Ô∏è");
        location.reload();
    },300);
}

setInterval(()=>{
    speed+=0.15;
},5000);

setInterval(createItem,700);
</script>

</body>
</html>
